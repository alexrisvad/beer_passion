<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KrusSingleView</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="singleView.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
</head>


<body>
    <header>
        <div id="logo">
            <a href="forside.html"><img src="billeder/krus_logo_white.png" alt="Krus logo"></a>
        </div>
        <nav>
            <div id="menuknap">☰</div>
            <ul id="menu" class="hidden">
                <li><a href="forside.html">Forside</a></li>
                <li><a href="beer.html">Øl</a>
                <li><a href="kontakt.html">Kontakt</a></li>
                <li><a href="om.html">Om os</a></li>
            </ul>
        </nav>
    </header>

    <section>
        <img src="" alt="" class="billede">



        <article>


            <h2 class="navn"></h2>
            <h2 class="type"></h2>
            <h2 class="pris"></h2>

            <h2 class="beskrivelse"></h2>
        </article>


    </section>
    <footer>
        <div class="footer_wrapper">
            <div class="footer_col1">
                <p><b>Adresse:</b> Guldbergsgade 29n, 2200 København N</p>

                <p><b>Telefonnummer:</b> +45 45 30 28 41</p>

                <p><b>Billeder lånt af:</b> KiHOSKH</p>
            </div>
            <div class="footer_col2">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3782.0661457075917!2d12.55210708232825!3d55.691943552039454!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x465253abae55267d%3A0x7f06e00bd751130a!2sKEA%20K%C3%B8benhavns%20Erhvervsakademi%20-%20Main%20Campus!5e0!3m2!1sda!2sdk!4v1613657758765!5m2!1sda!2sdk" width="800" height="400" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>
            </div>
        </div>

        <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>

        <div id="copyright">
            <p>© 2021 KRUS</p>
        </div>
    </footer>
</body>

</html>

<script>
    //Burger menu

    window.addEventListener("load", sidenVises);

    function sidenVises() {
        console.log("sidenVises");
        document.querySelector("#menuknap").addEventListener("click", toggleMenu);
    }

    function toggleMenu() {
        console.log("toggleMenu");
        document.querySelector("#menu").classList.toggle("hidden");

        let erSkjult = document.querySelector("#menu").classList.contains("hidden");

        if (erSkjult == true) {
            document.querySelector("#menuknap").textContent = "☰";
        } else {
            document.querySelector("#menuknap").textContent = "✕";
        }
    }


    const urlParams = new URLSearchParams(window.location.search);
    const id = urlParams.get("id");

    const medieurl = "https://passiongruppe16-bb8a.restdb.io/media/";
    let ol;
    const myHeaders = {

        "x-apikey": "602e232f5ad3610fb5bb6229"
    }
    console.log("ID", id);
    document.addEventListener("DOMContentLoaded", hentData);

    async function hentData() {
        const respons = await fetch(`https://passiongruppe16-bb8a.restdb.io/rest/indholdsliste/${id}`, {
            headers: myHeaders
        });

        ol = await respons.json();

        console.log("drik", ol);
        visOl(ol);

    }

    function visOl() {
        document.querySelector(".billede").textContent = ol.navn;
        document.querySelector(".billede").src = medieurl + ol.billede;
        document.querySelector(".navn").textContent = ol.navn;
        document.querySelector(".type").textContent = ol.type;
        document.querySelector(".beskrivelse").textContent = ol.beskrivelse;
        document.querySelector(".pris").textContent = ol.pris;
    }

</script>
