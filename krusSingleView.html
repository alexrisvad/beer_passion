<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KrusSingleView</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="singleView.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
</head>


<body>
    <header>
        <div id="logo">
            <a href="forside.html"><img src="billeder/krus_logo_black.png" alt="Krus logo"></a>
        </div>
        <nav>
            <div id="menuknap">☰</div>
            <ul id="menu" class="hidden">
                <li><a href="forside.html">Forside</a></li>
                <li><a href="beer.html">Øl</a>
                <li><a href="kontakt.html">Kontakt</a></li>
                <li><a href="om.html">Om os</a></li>
            </ul>
        </nav>
    </header>

    <section>
        <article>

            <h1 class="navn"></h1>
            <h1 class="type"></h1>
            <h2 class="pris"></h2>

            <h2 class="beskrivelse"></h2>
        </article>
        <img src="" alt="" class="billede">

    </section>
</body>

</html>

<script>
    const urlParams = new URLSearchParams(window.location.search);
    const id = urlParams.get("id");

    const medieurl = "https://passiongruppe16-bb8a.restdb.io/media/";
    let ol;
    const myHeaders = {

        "x-apikey": "602e232f5ad3610fb5bb6229"
    }
    console.log("ID", id);
    document.addEventListener("DOMContentLoaded", hentData);

    async function hentData() {
        const respons = await fetch(`https://passiongruppe16-bb8a.restdb.io/rest/indholdsliste/${id}`, {
            headers: myHeaders
        });

        ol = await respons.json();

        console.log("drik", ol);
        visOl(ol);

    }

    function visOl() {
        document.querySelector(".billede").textContent = ol.navn;
        document.querySelector(".billede").src = medieurl + ol.billede;
        document.querySelector(".navn").textContent = ol.navn;
        document.querySelector(".type").textContent = ol.type;
        document.querySelector(".beskrivelse").textContent = ol.beskrivelse;
        document.querySelector(".pris").textContent = ol.pris;
    }

</script>
